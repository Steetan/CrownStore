{"version":3,"file":"static/js/220.d76340c5.chunk.js","mappings":"8OASA,MA4EA,EA5EcA,IAAS,MAANA,EAChB,MAAOC,EAAWC,GAAgBC,EAAAA,UAAe,GAE3CC,GAAWC,EAAAA,EAAAA,KACXC,EAASC,aAAaC,QAAQ,UAE9B,SACLC,EAAQ,aACRC,EACAC,WAAW,OAAEC,KACVC,EAAAA,EAAAA,IAAkB,CAAEC,KAAM,aAc9B,OAAIR,GACIS,EAAAA,EAAAA,KAACC,EAAAA,GAAQ,CAACC,GAAG,OAIpBF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,qBAAoBC,UAClCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,aAAYC,SAAA,EAC1BJ,EAAAA,EAAAA,KAAA,MAAIG,UAAU,oBAAmBC,SAAC,8BAClCC,EAAAA,EAAAA,MAAA,QAAMC,SAAUX,GApBFY,UAChB,MAAMC,QAAanB,GAASoB,EAAAA,EAAAA,IAAcC,IAE1C,IAAKF,EAAKG,QACT,OAAOC,MAAM,iJAGVJ,EAAKG,QAAQE,OAChBC,OAAOtB,aAAauB,QAAQ,QAASP,EAAKG,QAAQE,MACnD,IAWyCT,SAAA,EACtCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qBAAoBC,SAAA,EAClCJ,EAAAA,EAAAA,KAACgB,EAAAA,EAAS,CACTC,MAAOpB,EAAOqB,QAAS,EACvBC,GAAG,iBACHC,MAAM,iCACNC,QAAQ,cACJ3B,EAAS,QAAS,CAAE4B,SAAU,gFAElCzB,EAAOqB,QAASlB,EAAAA,EAAAA,KAAA,KAAGuB,MAAO,CAAEC,MAAO,OAAQpB,SAAEP,EAAOqB,MAAMO,WAC3DzB,EAAAA,EAAAA,KAACgB,EAAAA,EAAS,CACTC,MAAOpB,EAAO6B,WAAY,EAC1BP,GAAG,iBACHC,MAAM,uCACNO,KAAMzC,EAAY,OAAS,WAC3BmC,QAAQ,cACJ3B,EAAS,WAAY,CAAE4B,SAAU,sFAErCzB,EAAO6B,WAAY1B,EAAAA,EAAAA,KAAA,KAAGuB,MAAO,CAAEC,MAAO,OAAQpB,SAAEP,EAAO6B,SAASD,WACjEzB,EAAAA,EAAAA,KAAC4B,EAAAA,EAAgB,CAChBC,MAAO3C,EACP4C,SAAUA,IAAM3C,GAAcD,GAC9B6C,SAAS/B,EAAAA,EAAAA,KAACgC,EAAAA,EAAM,IAChBZ,MAAM,8FAGRf,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yBAAwBC,SAAA,EACtCJ,EAAAA,EAAAA,KAAA,UAAQ2B,KAAK,SAASxB,UAAU,qCAAoCC,SAAC,oCAGrEC,EAAAA,EAAAA,MAAA,KAAAD,SAAA,CAAG,wEAEFC,EAAAA,EAAAA,MAAC4B,EAAAA,GAAI,CAAC/B,GAAG,YAAYC,UAAU,kBAAiBC,SAAA,CAC9C,IAAI,+HAOL,C","sources":["pages/Login.tsx"],"sourcesContent":["import React from 'react'\r\nimport { Link, Navigate } from 'react-router-dom'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useAppDispatch } from '../redux/store'\r\nimport { fetchUserData } from '../redux/slices/authSlice'\r\nimport { FormControlLabel, Switch, TextField } from '@mui/material'\r\n\r\nimport { FormData } from './Registration'\r\n\r\nconst Login = ({}) => {\r\n\tconst [isChecked, setIsChecked] = React.useState(false)\r\n\r\n\tconst dispatch = useAppDispatch()\r\n\tconst isAuth = localStorage.getItem('token')\r\n\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tformState: { errors },\r\n\t} = useForm<FormData>({ mode: 'onChange' })\r\n\r\n\tconst onSubmit = async (values: FormData) => {\r\n\t\tconst data = await dispatch(fetchUserData(values))\r\n\r\n\t\tif (!data.payload) {\r\n\t\t\treturn alert('Не удалось авторизоваться!')\r\n\t\t}\r\n\r\n\t\tif (data.payload.token) {\r\n\t\t\twindow.localStorage.setItem('token', data.payload.token)\r\n\t\t}\r\n\t}\r\n\r\n\tif (isAuth) {\r\n\t\treturn <Navigate to='/' />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='form-block-wrapper'>\r\n\t\t\t<div className='form-block'>\r\n\t\t\t\t<h3 className='form-block__title'>Вход</h3>\r\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t\t<div className='form-block__inputs'>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\terror={errors.email && true}\r\n\t\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\t\tlabel='Логин'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t{...register('email', { required: 'Укажите почту' })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{errors.email && <p style={{ color: 'red' }}>{errors.email.message}</p>}\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\terror={errors.password && true}\r\n\t\t\t\t\t\t\tid='outlined-basic'\r\n\t\t\t\t\t\t\tlabel='Пароль'\r\n\t\t\t\t\t\t\ttype={isChecked ? 'text' : 'password'}\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t{...register('password', { required: 'Укажите пароль' })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{errors.password && <p style={{ color: 'red' }}>{errors.password.message}</p>}\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tvalue={isChecked}\r\n\t\t\t\t\t\t\tonChange={() => setIsChecked(!isChecked)}\r\n\t\t\t\t\t\t\tcontrol={<Switch />}\r\n\t\t\t\t\t\t\tlabel='Показать пароль'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form-block__btns-login'>\r\n\t\t\t\t\t\t<button type='submit' className='button button-login button--footer'>\r\n\t\t\t\t\t\t\tВойти\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tНет аккаунта?\r\n\t\t\t\t\t\t\t<Link to='/auth/reg' className='button-link-reg'>\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\tЗарегистрироваться\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Login\r\n"],"names":["_ref","isChecked","setIsChecked","React","dispatch","useAppDispatch","isAuth","localStorage","getItem","register","handleSubmit","formState","errors","useForm","mode","_jsx","Navigate","to","className","children","_jsxs","onSubmit","async","data","fetchUserData","values","payload","alert","token","window","setItem","TextField","error","email","id","label","variant","required","style","color","message","password","type","FormControlLabel","value","onChange","control","Switch","Link"],"sourceRoot":""}