"use strict";(self.webpackChunkcrown_store=self.webpackChunkcrown_store||[]).push([[977],{358:(t,s,e)=>{e.r(s),e.d(s,{default:()=>x});var a=e(5043),c=e(3216),n=e(5475),i=e(3003),r=e(4747),l=e(8202),o=e(3840);const d=e.p+"static/media/cart-b.e3df211bdbfac971edc551ca665118b6.svg";const h=e.p+"static/media/trash.eb37d9f40a59bcd016679737a3847891.svg";var u=e(2885),m=e(5163),j=e(579);const x=()=>{const{totalPrice:t,cartItems:s}=(0,i.d4)(r.VH),{totalCount:e}=(0,i.d4)((t=>t.cartSlice)),x=(0,i.d4)(m.BN),p=(0,l.j)(),_=async()=>{let t=0;p((0,r.Xl)()).then((s=>{p((0,r.iL)(s.payload.results.length)),s.payload.results.forEach((s=>{t+=s.product_price*s.totalcount})),p((0,r.ML)(t))}))};if(a.useEffect((()=>{_()}),[]),!x)return(0,j.jsx)(c.C5,{to:"/auth/login"});if(!s.length)return(0,j.jsx)(u.Ah,{});return(0,j.jsx)("div",{className:"container container--cart",children:(0,j.jsxs)("div",{className:"cart",children:[(0,j.jsxs)("div",{className:"cart__top",children:[(0,j.jsxs)("h2",{className:"content__title",children:[(0,j.jsx)("img",{style:{width:30,marginRight:10},src:d,alt:"cart"}),"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"]}),(0,j.jsxs)("button",{onClick:async()=>{window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443?")&&(await o.A.delete("/cart/delete"),await _())},className:"cart__clear",children:[(0,j.jsx)("img",{src:h,alt:""}),(0,j.jsx)("span",{children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]}),(0,j.jsx)("div",{className:"content__items content__items--cart",children:s.map((t=>(0,j.jsx)(u.m6,{id:t.product_id,totalcount:t.totalcount,title:t.product_title,imgurl:t.product_img},t.id)))}),(0,j.jsxs)("div",{className:"cart__bottom",children:[(0,j.jsxs)("div",{className:"cart__bottom-details",children:[(0,j.jsxs)("span",{children:[" ","\u0412\u0441\u0435\u0433\u043e: ",(0,j.jsxs)("b",{children:[e," \u0448\u0442."]})," "]}),(0,j.jsxs)("span",{children:[" ","\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430: ",(0,j.jsxs)("b",{children:[t," \u20bd"]})," "]})]}),(0,j.jsxs)("div",{className:"cart__bottom-buttons",children:[(0,j.jsxs)(n.N_,{to:"/",className:"button button--outline button--add go-back-btn",children:[(0,j.jsx)("svg",{width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,j.jsx)("path",{d:"M7 13L1 6.93015L6.86175 1",stroke:"#D3D3D3",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,j.jsx)("span",{children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"})]}),(0,j.jsx)(n.N_,{to:"/resultbuy",className:"button pay-btn",onClick:async()=>{await o.A.post("/email"),await o.A.delete("/cart/delete"),await _()},children:(0,j.jsx)("span",{children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0441\u0435\u0439\u0447\u0430\u0441"})})]})]})]})})}}}]);
//# sourceMappingURL=977.6b8fb2a6.chunk.js.map