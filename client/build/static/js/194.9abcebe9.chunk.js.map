{"version":3,"file":"static/js/194.9abcebe9.chunk.js","mappings":"0NAqBA,MAgEA,EAhE6BA,KAC5B,MAAOC,EAAUC,GAAeC,EAAAA,UAAe,IACxCC,EAAWC,GAAgBF,EAAAA,SAA8B,KACzDG,EAASC,GAAcJ,EAAAA,SAAe,IAEvCK,GAAWC,EAAAA,EAAAA,KA8BjB,OAnBAN,EAAAA,WAAgB,KATIO,MACnB,IACCC,EAAAA,EAAYC,IAAI,GAADC,OAAIC,wBAAgC,gBAAeC,MAAKC,IAAe,IAAd,KAAEC,GAAMD,EAC/EX,EAAaY,EAAK,GAEpB,CAAE,MAAOC,GACRC,QAAQC,IAAIF,EACb,GAGAR,EAAa,GACX,IAEHP,EAAAA,WAAgB,KACf,IACiBkB,WACf,MAAMJ,QAAaT,GAASc,EAAAA,EAAAA,OAC5Bf,EAAWU,EAAKM,QAAQC,QAAQC,IAC5BR,EAAKM,QAAQL,OAChBhB,GAAY,EACb,EAEDwB,EACD,CAAE,MAAOR,GACRC,QAAQC,IAAIF,EACb,IACE,CAACV,IAEAP,GACI0B,EAAAA,EAAAA,KAACC,EAAAA,EAAQ,IAGZxB,GAAcyB,MAAMC,QAAQ1B,IAKhC2B,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACCD,EAAAA,EAAAA,MAAA,OAAKE,UAAU,cAAaD,SAAA,EAC3BD,EAAAA,EAAAA,MAAA,OAAKE,UAAU,+BAA8BD,SAAA,EAC5CL,EAAAA,EAAAA,KAAA,MAAIM,UAAU,oBAAmBD,SAAC,+EAClCL,EAAAA,EAAAA,KAACO,EAAAA,GAAS,CAACC,WAAW,oGAEvBJ,EAAAA,EAAAA,MAAA,OAAKK,MAAO,CAAEC,QAAS,OAAQC,cAAe,SAAUC,IAAK,IAAKP,SAAA,EACjEL,EAAAA,EAAAA,KAACa,EAAAA,GAAY,CAACvC,SAAUA,KACxB0B,EAAAA,EAAAA,KAACc,EAAAA,GAAS,CAACnC,QAASA,EAASL,SAAUA,WAGzC0B,EAAAA,EAAAA,KAAA,OAAKS,MAAO,CAAEC,QAAS,OAAQK,eAAgB,SAAUC,UAAW,IAAKX,UACxEL,EAAAA,EAAAA,KAACiB,EAAAA,GAAI,CAACC,GAAG,IAAIZ,UAAU,uBAAsBD,UAC5CL,EAAAA,EAAAA,KAAA,QAAAK,SAAM,kGAjBFL,EAAAA,EAAAA,KAAA,OAAKM,UAAU,gBAoBhB,C","sources":["pages/AdminPanel/AdminPanel.tsx"],"sourcesContent":["import React from 'react'\r\nimport { useAppDispatch } from '../../redux/store'\r\nimport { fetchAdminMe } from '../../redux/slices/authSlice'\r\nimport customAxios from '../../axios'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport NotFound from '../NotFound/NotFound'\r\nimport { AdminForm, ProductTable, UserTable } from '../../components'\r\n\r\nexport interface DataProduct {\r\n\tid?: string\r\n\ttitle: string | undefined\r\n\tdescription: string | undefined\r\n\tfileimg: string | undefined\r\n\tprice: number | undefined\r\n\trating: number | undefined\r\n\tcategory: number | undefined\r\n\tcount: number | undefined\r\n\timgurl?: string | undefined\r\n}\r\n\r\nconst AdminPanel: React.FC = () => {\r\n\tconst [hasError, setHasError] = React.useState(false)\r\n\tconst [fetchData, setFetchData] = React.useState<DataProduct[]>([])\r\n\tconst [idAdmin, setIdAdmin] = React.useState('')\r\n\r\n\tconst dispatch = useAppDispatch()\r\n\r\n\tconst getProducts = () => {\r\n\t\ttry {\r\n\t\t\tcustomAxios.get(`${process.env.REACT_APP_SERVER_URL}/adminpanel`).then(({ data }) => {\r\n\t\t\t\tsetFetchData(data)\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\tReact.useEffect(() => {\r\n\t\tgetProducts()\r\n\t}, [])\r\n\r\n\tReact.useEffect(() => {\r\n\t\ttry {\r\n\t\t\tconst fetchMe = async () => {\r\n\t\t\t\tconst data = await dispatch(fetchAdminMe())\r\n\t\t\t\tsetIdAdmin(data.payload.decoded.id)\r\n\t\t\t\tif (data.payload.error) {\r\n\t\t\t\t\tsetHasError(true)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfetchMe()\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}, [dispatch])\r\n\r\n\tif (hasError) {\r\n\t\treturn <NotFound />\r\n\t}\r\n\r\n\tif (!fetchData || !Array.isArray(fetchData)) {\r\n\t\treturn <div className='loading-cart'></div>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className='admin-block'>\r\n\t\t\t\t<div className='form-block form-block--admin'>\r\n\t\t\t\t\t<h3 className='form-block__title'>Новый продукт</h3>\r\n\t\t\t\t\t<AdminForm nameButton='Добавить продукт' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column', gap: 20 }}>\r\n\t\t\t\t\t<ProductTable hasError={hasError} />\r\n\t\t\t\t\t<UserTable idAdmin={idAdmin} hasError={hasError} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ display: 'flex', justifyContent: 'center', marginTop: 30 }}>\r\n\t\t\t\t<Link to='/' className='button button--black'>\r\n\t\t\t\t\t<span>Вернуться назад</span>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default AdminPanel\r\n"],"names":["AdminPanel","hasError","setHasError","React","fetchData","setFetchData","idAdmin","setIdAdmin","dispatch","useAppDispatch","getProducts","customAxios","get","concat","process","then","_ref","data","error","console","log","async","fetchAdminMe","payload","decoded","id","fetchMe","_jsx","NotFound","Array","isArray","_jsxs","children","className","AdminForm","nameButton","style","display","flexDirection","gap","ProductTable","UserTable","justifyContent","marginTop","Link","to"],"sourceRoot":""}